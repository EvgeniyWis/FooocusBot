# FocuuusBot ‚Äì Telegram-–±–æ—Ç —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ API

[![Python 3.12](https://img.shields.io/badge/python-3.12-blue.svg)](https://www.python.org/downloads/release/python-3120/)
[![aiogram v3](https://img.shields.io/badge/aiogram-v3.x-green.svg)](https://docs.aiogram.dev/en/latest/)
[![Dockerized](https://img.shields.io/badge/docker-ready-blue)](https://www.docker.com/)
[![Redis](https://img.shields.io/badge/redis-used-red)](https://redis.io/)

–ë–æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –ø–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –∑–∞–¥–∞–Ω–∏—é –∑–∞–∫–∞–∑—á–∏–∫–∞ –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∞–±–æ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ –æ–¥–Ω–æ–º—É –ø—Ä–æ–º–ø—Ç—É, —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π AI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π (RunPod, Kling), –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–≤ —Ç–æ–º —á–∏—Å–ª–µ —á–µ—Ä–µ–∑ FaceFusion), –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ—á–µ—Ä–µ–¥—å—é –∑–∞–¥–∞—á –∏ —Å–∏—Å—Ç–µ–º–æ–π —Ä–æ–ª–µ–π.

---

## –§—É–Ω–∫—Ü–∏–∏

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö AI-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ –ø–æ API
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á —Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ Redis
- –ú–æ–¥—É–ª—å FaceFusion (Docker-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º)
- –†–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∞–¥–º–∏–Ω—ã, –¥–µ–≤–µ–ª–æ–ø–µ—Ä—ã
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (mock/test/dev)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º FaceFusion –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º —á–µ—Ä–µ–∑ `docker exec`
- –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å –±—ç–∫–∞–ø–∞–º–∏ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º –ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ Grafana (Loki/Promtail)
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ Grafana —á–µ—Ä–µ–∑ nginx —Å Basic Auth

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
```bash
make build
make up-all
make logs-bot
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Makefile

- `make up-all` ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
- `make down-all` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
- `make up-bot` / `make down-bot` ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å/–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ Telegram-–±–æ—Ç–∞
- `make up-redis` / `make down-redis` ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å/–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Redis
- `make up-loki` / `make down-loki` ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å/–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Loki
- `make up-promtail` / `make down-promtail` ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å/–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Promtail
- `make up-grafana` / `make down-grafana` ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å/–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Grafana
- `make up-nginx` / `make down-nginx` ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å/–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å nginx (–ø—Ä–æ–∫—Å–∏)
- `make logs-<service>` ‚Äî –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `make logs-bot`)
- `make restart-<service>` ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
- `make sh-<service>` ‚Äî –≤–æ–π—Ç–∏ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (bash/sh)

## –î–æ—Å—Ç—É–ø –∫ –ª–æ–≥–∞–º –∏ Grafana

- –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ Grafana, –∫–æ—Ç–æ—Ä–∞—è –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ nginx-–ø—Ä–æ–∫—Å–∏ –ø–æ –∞–¥—Ä–µ—Å—É:  
  `http://localhost:8080/grafana/`  
  (–∏–ª–∏ –ø–æ –≤–∞—à–µ–º—É –¥–æ–º–µ–Ω—É, –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
- –î–ª—è –¥–æ—Å—Ç—É–ø–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å (basic auth), –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `nginx/.htpasswd`.
- –ü—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ Grafana, Loki –∏ Promtail —Å–Ω–∞—Ä—É–∂–∏ –Ω–µ—Ç ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ nginx.

## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è .htpasswd –¥–ª—è nginx

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Grafana —á–µ—Ä–µ–∑ nginx:
```sh
docker run --rm --entrypoint htpasswd httpd:2 -Bbn <user> <password> > ./nginx/.htpasswd
```

---

